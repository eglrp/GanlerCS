# 5.生成函数

> 生成函数的组合意义：
>
> 幂代表类别，系数代表该类的选择方法。

#### 简单的例子

> 两个筛子抛掷出6点的掷法：
> $$
> (t^0+t^1+\cdots+t^6)^2
> $$
> 最后得到$t^6$的系数为所解。

#### 母函数是用来表示一个序列的

$$
a_n=1\\
g(x)=\sum_{n=0}^\infin a_nx^n=\sum_{n=0}^\infin x^n=\frac{1}{1-x}
$$



那么g(x)就可以表示an这个序列；**一个函数表示一个序列就是母函数。**

而很多时候我们要的是$a_n$，以表示n情况下的类别数。

#### 另外一个例子

$$
\sum_{i=1}^k x_i=N,x_i\ge 0
$$

该问题可转化为$\{\infin \cdot a_i,\cdots\}$的k组合问题：k个类每个类选多少次（最多选N次）。
$$
C_{N+k-1}^N
$$

> 同时也可以用隔板法，$x_i$各加一，那么保证其为正数即可。则等式变为了：$\sum_{i=1}^k x_i=N+k$。有$N+k-1$个隔板，选择$k-1$个即可，即为$C_{N+k-1}^N$。(k个自变量，从中选N组合)

其对应的生成函数是
$$
\frac{1}{(1-x)^k}
$$
因为我们从k组合的问题来看就是：
$$
(\sum_{i=0}^\infin x^i)^k=\frac{1}{(1-x)^k}
$$
共k组，第一个代表第一个$x_1$的值是多少(对应幂数)。(注意这里的系数个数为k)

#### 母函数总结

$$
G(\{1\})=\frac{1}{1-x}\\
G(\{C_{n+r-1}^r\})=\frac{1}{(1-x)^n}
$$

> r是组合数（就是方程的和）对应的是幂数，n是自变量的个数。

$$
G(\{k\})=\frac{x}{(1-x)^2}\\
G(\{a^k\})=\frac{1}{1-ax}
$$

#### 钱币组成方案

> 假设你手里有1张1块，1张2块，1张5块的纸币，能够组成多少种数量的钱，每种数量的钱有几种组成方案；

建模：
$$
g(x)=\sum_{i=0}^\infin a_ix^i
$$
其中i代表金额数，$a_i$代表方法数。

本题可以用：
$$
(x^0+x^1)\times (x^0+x^2)\times (x^0+x^5)
$$
作为生成函数而计算之。

#### 拿水果例题

> 你有一些水果，只能拿**3的倍数**个苹果，只能拿**质数**个草莓。问对于每个$0<i≤$n，有多少种方案使得恰好拿i个水果。

分开构造生成函数：

> - 苹果
>
> $$
> A(x)=x^3+x^6+\cdots
> $$
>
> - 草莓
>
> $$
> B(x)=x^2+x^5+\cdots
> $$

将其相乘可得结果。

#### 闭形式

如$\sum_{i=0}^\infin x^i$其实是等比数列求和得到的。

广义二项式定理：
$$
(a+b)^n=\sum_{i=0}^\infin C_{n}^ia^{n-i}b^i
$$
当$n>0$的时候有(负指数二项式定理)：
$$
(a+b)^{-n}=\sum_{i=0}^\infin (-1)^iC_{n+i-1}^i a^{n-i}b^i
$$
