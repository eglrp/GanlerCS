# UNIXV6++

[TOC]

## Memory Layout & Page Table

![](image/image-20191104223614530.png)

- 由于页表区是从2MB的位置开始，所以页表区Page Directory的位置在`%CR3`指向的位置`0x200000`，即`0x200`号页框（少3个0是因为每页4KB）
- 每号页框可以装4MB页，即总共1024页；
- 进程上台时，将装入`0x202`和`0x203`号页框。
- 内容
  - `0x200`页框：二级页表（其他的页框，上台进程页框都）
  - `0x201`页框：PPDA和其他，其中`1023#`存放PPDA区（只占4K）；
  - `0x202`页框：装一些用户态的东西；
  - `0x203`页框：`0`号PTE同上，然后之后的部分按`[代码段]+[数据段]`，其中只使用`1#, 2#, 3#, 1023#`。