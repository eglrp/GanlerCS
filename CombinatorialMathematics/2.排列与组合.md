# 排列与组合

> 注意，大括号法和$C_x^x$的上下位置关系是颠倒的。

#### 全排列

$$
P(n, r) = A_n^r=\frac{n!}{(n-r)!}
$$

#### 圆排列

$$
\frac{1}{r}P(n, r)
$$

> 先建圆，再插入。

#### 其他

$$
\sum_i^n C_n^i=2^n
$$

#### 多重集合的排列

$$
M=\{k_1\cdot a, k_2\cdot b,\cdots, \}\\
k_i是重数。
$$

多重集合的全排列数：
$$
\frac{k!}{k_1!k_2!\cdots k_n!}
$$

> 举例1：将$k=\sum^n k_i$个不同的物品放入n个不同的盒子$B_i$当中，使得$B_j$个盒子中有$k_j$个物品。

#### 多重集合的组合

在多重集合M中**无序地**选出$r$个元素，叫做**多重集M的r组合**。其中的组合数是$C_{k+r-1}^r$。(可将多出来的r-1看做是placeholder).

> 该结论的使用前提是同种元素的数量要大于等于r。

同上前提下，要求M的r组合中各类别元素至少出现一次的组合数是$C^{k-1}_{r-1}$。

> 因为是无序的，所以我们可先把r组合排列好(想象一排的r个1)，然后我们用k-1个分隔符来插入到r-1个空隙之间，有$C_{r-1}^{k-1}$种方式。每组1都代表最后被放入对应元素的组。

#### 全序集与增字

全序集$X=\{x_1,x_2,\cdots,x_m\}$的n的增字（$x_i\le x_{i+1}$）有:

直接选择，自动排序。
$$
C_{m+n-1}^n
$$
